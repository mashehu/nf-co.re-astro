---
import { getLanguageFromURL, KNOWN_LANGUAGE_CODES } from '../../languages';
import * as CONFIG from '../../config';
import AstroLogo from './AstroLogo.astro';
import SkipToContent from './SkipToContent.astro';
import SidebarToggle from './SidebarToggle';
import LanguageSelect from './LanguageSelect';
import Search from './Search';

import 'bootstrap/dist/css/bootstrap.min.css';

const { currentPage } = Astro.props;
const lang = currentPage && getLanguageFromURL(currentPage);
---

<header>
	<SkipToContent />
	<nav class="navbar fixed-top navbar-expand-md navbar-light bg-light shadow-sm site-nav d-print-none">
    <div class="container-fluid">
      <a class="navbar-brand d-md-none" href="/">
        <img height="25px" src="/assets/img/logo/nf-core-logo.svg" class="hide-dark">
        <img height="25px" src="/assets/img/logo/nf-core-logo-darkbg.svg" class="hide-light">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-md-center" id="navbarCollapse">
        <ul class="navbar-nav">
          <li class="nav-item p-1">
            <a class="nav-link" href="/">Home</a>
          </li>
          <li class="nav-item p-1">
            <a class="nav-link" href="/pipelines">Pipelines</a>
          </li>
          <li class="nav-item p-1">
            <a class="nav-link" href="/modules">Modules</a>
          </li>
          <li class="nav-item p-1">
            <a class="nav-link" href="/tools">Tools</a>
          </li>
          <li class="nav-item p-1">
            <!-- TODO - write a new docs landing page at /docs -->
            <a class="nav-link" href="/docs/usage/introduction">Docs</a>
          </li>
          <li class="nav-item p-1">
            <a class="nav-link" href="/events">Events</a>
          </li>
          <li class="nav-item p-1 dropdown">
            <a class="nav-link dropdown-toggle" href="/about" role="button" data-bs-toggle="dropdown">About</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="/about">About nf-core</a>
              <a class="dropdown-item" href="/community">Community</a>
              <a class="dropdown-item" href="/stats">Statistics</a>
              <a class="dropdown-item" href="/publications">Publications</a>
              <a class="dropdown-item" href="/mentorships">Mentorships</a>
              <a class="dropdown-item" href="/code_of_conduct">Code of conduct</a>
              <a class="dropdown-item" href="/join">Join nf-core</a>
            </div>
          </li>
        </ul>
        <hr class="d-md-none">
        <a class="d-md-none btn d-block btn-success mb-3" href="/join">
          Join nf-core
        </a>
        <a class="d-none d-lg-block btn btn-success" style="position:absolute; right: 1rem;" href="/join">
          Join nf-core
        </a>
      </div>
    </div>
  </nav>
</header>
<script>
  import bootstrap from 'bootstrap';
</script>
<style>
	/** Style Algolia */
	:root {
		--docsearch-primary-color: var(--theme-accent);
		--docsearch-logo-color: var(--theme-text);
	}

	.search-item {
		display: none;
		position: relative;
		z-index: 10;
		flex-grow: 1;
		padding-right: 0.7rem;
		display: flex;
		max-width: 200px;
	}
	:global(.search-item > *) {
		flex-grow: 1;
	}
	@media (min-width: 50em) {
		.search-item {
			max-width: 400px;
		}
	}
</style>
